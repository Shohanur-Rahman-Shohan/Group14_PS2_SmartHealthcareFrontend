<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Patient Records | Smart Healthcare</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/phosphor-icons"></script>

  <style>
    .card { transition: 0.4s ease; }
    .card:hover { transform: translateY(-5px); box-shadow: 0 10px 25px rgba(0,0,0,0.15); }
    .modal-bg { background: rgba(0,0,0,0.5); }
  </style>
</head>

<body class="bg-gray-50 text-gray-800 min-h-screen">

  <!-- Navbar -->
  <nav class="bg-gradient-to-r from-sky-600 to-sky-700 text-white shadow-lg">
    <div class="container mx-auto px-6 py-4 flex justify-between items-center">
      <h1 class="text-2xl font-bold flex items-center gap-2">
        <i class="ph ph-file-text"></i> Patient Records
      </h1>
      <a href="dashboard.html" class="bg-white text-sky-700 px-4 py-2 rounded shadow hover:bg-gray-200">Back</a>
    </div>
  </nav>

  <main class="container mx-auto px-6 py-10">

    <h2 class="text-3xl font-bold text-sky-700 mb-8 flex items-center gap-2">
      <i class="ph ph-users-three"></i> Patient List
    </h2>

    <!-- Table -->
    <div class="bg-white p-8 rounded-2xl shadow-lg overflow-x-auto">
      <table id="patientTable" class="w-full min-w-[700px] text-left border-collapse">
        <thead class="bg-sky-100 text-sky-700">
          <tr>
            <th class="px-6 py-3">Patient Name</th>
            <th class="px-6 py-3">Age</th>
            <th class="px-6 py-3">Phone</th>
            <th class="px-6 py-3">Last Visit</th>
            <th class="px-6 py-3">Actions</th>
          </tr>
        </thead>
        <tbody>

          <tr class="border-b">
            <td class="px-6 py-3">Ayesha Khan</td>
            <td class="px-6 py-3">24</td>
            <td class="px-6 py-3">01712345678</td>
            <td class="px-6 py-3">Nov 12, 2025</td>
            <td class="px-6 py-3 flex gap-2">
              <button onclick="viewPatient(this)" class="px-3 py-1 bg-sky-600 text-white rounded"><i class="ph ph-eye"></i></button>
              <button onclick="editPatient(this)" class="px-3 py-1 bg-green-600 text-white rounded"><i class="ph ph-pencil"></i></button>
              <button onclick="deletePatient(this)" class="px-3 py-1 bg-red-600 text-white rounded"><i class="ph ph-trash"></i></button>
            </td>
          </tr>

          <tr class="border-b">
            <td class="px-6 py-3">Rafi Ahmed</td>
            <td class="px-6 py-3">30</td>
            <td class="px-6 py-3">01876543210</td>
            <td class="px-6 py-3">Nov 10, 2025</td>
            <td class="px-6 py-3 flex gap-2">
              <button onclick="viewPatient(this)" class="px-3 py-1 bg-sky-600 text-white rounded"><i class="ph ph-eye"></i></button>
              <button onclick="editPatient(this)" class="px-3 py-1 bg-green-600 text-white rounded"><i class="ph ph-pencil"></i></button>
              <button onclick="deletePatient(this)" class="px-3 py-1 bg-red-600 text-white rounded"><i class="ph ph-trash"></i></button>
            </td>
          </tr>

          <tr class="border-b">
            <td class="px-6 py-3">Sarah Tanvir</td>
            <td class="px-6 py-3">28</td>
            <td class="px-6 py-3">01598765432</td>
            <td class="px-6 py-3">Nov 11, 2025</td>
            <td class="px-6 py-3 flex gap-2">
              <button onclick="viewPatient(this)" class="px-3 py-1 bg-sky-600 text-white rounded"><i class="ph ph-eye"></i></button>
              <button onclick="editPatient(this)" class="px-3 py-1 bg-green-600 text-white rounded"><i class="ph ph-pencil"></i></button>
              <button onclick="deletePatient(this)" class="px-3 py-1 bg-red-600 text-white rounded"><i class="ph ph-trash"></i></button>
            </td>
          </tr>

        </tbody>
      </table>
    </div>
  </main>

  <!-- ===================== MODALS ===================== -->

  <!-- View Modal -->
  <div id="viewModal" class="hidden fixed inset-0 modal-bg flex justify-center items-center">
    <div class="bg-white w-96 p-6 rounded shadow-xl">
      <h2 class="text-2xl font-bold text-sky-700 mb-3">Patient Details</h2>
      <p id="viewContent" class="text-gray-700"></p>

      <button onclick="closeModal('viewModal')" class="mt-4 px-4 py-2 bg-sky-600 text-white rounded w-full">Close</button>
    </div>
  </div>

  <!-- Edit Modal -->
  <div id="editModal" class="hidden fixed inset-0 modal-bg flex justify-center items-center">
    <div class="bg-white w-96 p-6 rounded shadow-xl">
      <h2 class="text-2xl font-bold text-green-700 mb-4">Edit Patient</h2>

      <form id="editForm" class="space-y-3">
        <input type="text" id="editName" class="w-full border p-2 rounded" placeholder="Name"/>
        <input type="number" id="editAge" class="w-full border p-2 rounded" placeholder="Age"/>
        <input type="text" id="editPhone" class="w-full border p-2 rounded" placeholder="Phone"/>
        <input type="text" id="editLast" class="w-full border p-2 rounded" placeholder="Last Visit"/>
      </form>

      <button onclick="saveEdit()" class="mt-4 px-4 py-2 bg-green-600 text-white rounded w-full">Save</button>
      <button onclick="closeModal('editModal')" class="mt-2 px-4 py-2 bg-gray-300 text-black rounded w-full">Cancel</button>
    </div>
  </div>

  <script>
    let currentRow = null;

    // ================= VIEW =================
    function viewPatient(btn) {
      const row = btn.closest("tr").children;
      const name = row[0].innerText;
      const age = row[1].innerText;
      const phone = row[2].innerText;
      const visit = row[3].innerText;

      document.getElementById("viewContent").innerHTML = `
        <b>Name:</b> ${name}<br>
        <b>Age:</b> ${age}<br>
        <b>Phone:</b> ${phone}<br>
        <b>Last Visit:</b> ${visit}
      `;

      openModal("viewModal");
    }

    // ================= EDIT =================
    function editPatient(btn) {
      currentRow = btn.closest("tr").children;

      document.getElementById("editName").value = currentRow[0].innerText;
      document.getElementById("editAge").value = currentRow[1].innerText;
      document.getElementById("editPhone").value = currentRow[2].innerText;
      document.getElementById("editLast").value = currentRow[3].innerText;

      openModal("editModal");
    }

    function saveEdit() {
      currentRow[0].innerText = document.getElementById("editName").value;
      currentRow[1].innerText = document.getElementById("editAge").value;
      currentRow[2].innerText = document.getElementById("editPhone").value;
      currentRow[3].innerText = document.getElementById("editLast").value;

      closeModal("editModal");
      alert("Patient record updated successfully!");
    }

    // ================= DELETE =================
    function deletePatient(btn) {
      if (confirm("Are you sure you want to delete this record?")) {
        btn.closest("tr").remove();
        alert("Record deleted!");
      }
    }

    // ================= MODAL HANDLERS =================
    function openModal(id) {
      document.getElementById(id).classList.remove("hidden");
    }

    function closeModal(id) {
      document.getElementById(id).classList.add("hidden");
    }
  </script>

</body>
</html>
